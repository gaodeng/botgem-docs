# Gemini 思考模式

本指南介绍如何在 BotGem 中使用和自定义 Gemini 的思考模式。思考模式在 Gemini 2.5 系列模型中默认启用，使其能够执行更复杂的推理并解决具有挑战性的任务。

## 如何自定义 Gemini 2.5 模型的思考模式

> **注意**：思考功能在 Gemini 2.5 系列模型中默认启用。以下配置允许您自定义思考行为并在响应中查看思考过程。
>
> 思考摘要能够让您洞察模型的内部推理过程。这一功能在验证模型的解题思路和让用户了解长时间任务的进展方面特别有价值，尤其是与流式输出结合使用时。

![Gemini 2.5 思考模式设置界面](/gemini-thinking-dark.png){.dark-only}
![Gemini 2.5 思考模式设置界面](/gemini-thinking.png){.light-only}

您可以通过以下步骤在聊天窗口中启用思考摘要（使思考过程可见）：

1. 点击聊天窗口右上角的**设置图标**
2. 在设置面板中找到**参数**输入字段
3. 将以下配置复制到**参数**中：

```json
{
  "thinkingConfig": {
    "includeThoughts": true
  }
}
```

## 理解思考模式

Gemini 思考模式让模型能够在提供回答前进行更详细的推理。这一功能特别适用于：

- 复杂问题解决
- 多步骤推理任务
- 详细分析和规划
- 代码生成和调试

虽然思考功能在 Gemini 2.5 系列模型中默认启用，但将 `thinkingConfig` 参数中的 `includeThoughts` 设置为 `true` 可以让您通过思考摘要查看模型的推理过程。这些摘要让您能够了解模型的内部思考，使推理过程在响应中可见，帮助您理解模型如何得出结论。

思考摘要的价值在于：
- 验证模型的解题思路
- 理解复杂答案背后的推理逻辑
- 让用户了解长时间任务的进展
- 发现推理中可能出现的错误

如果您想进一步调整思考过程，还可以设置思考预算：

```json
{
  "thinkingConfig": {
    "includeThoughts": true,
    "thinkingBudget": 16000
  }
}
```

`thinkingBudget` 参数让您可以控制模型在生成响应时可以使用的思考token数量：

- **范围**：必须是 0 到 24576 之间的整数
- **默认值**：如果未指定，Gemini 会根据请求的复杂度自动调整预算
- **禁用思考**：将预算设置为 0 会完全禁用思考
- **复杂任务推荐值**：8000-16000 tokens
- **模型支持**：请注意，`thinkingBudget` 仅在 Gemini 2.5 Flash 中支持

更高的 token 数量通常能够支持更详细的推理，这对解决复杂任务很有帮助。不过，根据您提供的 prompt 不同，模型实际使用的token可能会比设定的预算多一些或少一些。

## 故障排除

如果您在使用思考模式时遇到问题：

- 确保您的 Google API 密钥有权限访问 Gemini 2.5 模型
- 检查 JSON 参数格式是否正确
- 如果响应不完整或不够详细，尝试调整思考预算
- 对于非常复杂的任务，考虑将其拆分为更小的步骤

有关 Google Gemini 配置的更多信息，请参阅 [Google AI 配置指南](google-configuration.md)。
